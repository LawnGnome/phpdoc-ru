<?xml version="1.0" encoding="utf-8"?>
<!-- EN-Revision: 297028 Maintainer: kyaniv Status: ready -->
<!-- Reviewed: no -->
<!-- $Revision: $ -->
<refentry xml:id="function.http-cache-last-modified" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>http_cache_last_modified</refname>
  <refpurpose>Кэширует с помощью даты последнего изменения</refpurpose>
 </refnamediv>
 <refsect1 role="description">
  &reftitle.description;
  <methodsynopsis>
   <type>bool</type><methodname>http_cache_last_modified</methodname>
   <methodparam choice="opt"><type>int</type><parameter>timestamp_or_expires</parameter></methodparam>
  </methodsynopsis>
  <para>
   Пытается закэшировать отправленный запрос с помощью даты последнего изменения.
  </para>
  <para>
   Если переданный аргумент больше 0, то он обрабатывается как временная метка в формате Unix и
   будет отправлен в ответе в качестве даты последнего изменения. Если аргумент 0 или не задан,
   то в качестве значения для заголовка <literal>Last-Modified</literal> будут использованы текущие
   дата и время. Если передано отрицательное число, то оно обрабатывается как количество секунд
   через которое истекает срок действия кэша, это означает если запрошенная дата последнего
   изменения не находится между расчетным временем, то значение заголовка
   <literal>Last-Modified</literal> будет обновлено и будет отправлено актуальное тело ответа.
  </para>
  <para>
   Журнал запроса пишется в лог кэша, если задать &link.http.configuration;
   <link linkend="http.configuration.log.cache">http.log.cache</link> и если попытка
   получения кэша была успешной.
  </para>
  &note.http.send.API.mayuse;
 </refsect1>
 <refsect1 role="parameters">
  &reftitle.parameters;
  <para>
   <variablelist>
    <varlistentry>
     <term><parameter>timestamp_or_expires</parameter></term>
     <listitem>
      <para>
       Временная метка в формате Unix
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </para>
 </refsect1>
 <refsect1 role="returnvalues">
  &reftitle.returnvalues;
  <para>
   &returns.http.false.orexits; со статусом <literal>304 Not Modified</literal> если запрос закэширован.
   &see.http.configuration.force_exit;
  </para>
 </refsect1>

 <!-- Use when ERRORS exist
 <refsect1 role="errors">
  &reftitle.errors;
  <para>
   When does this function throw E_* level errors, or exceptions?
  </para>
 </refsect1>
 -->


 <!-- Use when a CHANGELOG exists
 <refsect1 role="changelog">
  &reftitle.changelog;
  <para>
   <informaltable>
    <tgroup cols="2">
     <thead>
      <row>
       <entry>&Version;</entry>
       <entry>&Description;</entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>Enter the PHP version of change here</entry>
       <entry>Description of change</entry>
      </row>
     </tbody>
    </tgroup>
   </informaltable>
  </para>
 </refsect1>
 -->


 <refsect1 role="examples">
  &reftitle.examples;
  <para>
   <example>
    <title>Пример использования <function>http_cache_last_modified</function></title>
    <para>
     Закэширует на 5 секунд.
    </para>
    <programlisting role="php">
<![CDATA[
<?php
http_cache_last_modified(-5);
printf("%s\n", http_date());
?>
]]>
    </programlisting>
   </example>
  </para>
 </refsect1>


 <refsect1 role="seealso">
  &reftitle.seealso;
  <para>
   <simplelist>
    <member><function>http_cache_etag</function></member>
    <member>&http.response.class.php51;</member>
   </simplelist>
  </para>
 </refsect1>


</refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
