<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision: 1.5 $ -->
<!-- EN-Revision: 1.2 Maintainer: young Status: ready -->
<!-- splitted from ./en/functions/pcre.xml, last change in rev 1.2 -->
  <refentry xml:id="reference.pcre.pattern.modifiers" xmlns="http://docbook.org/ns/docbook">
   <refnamediv>
    <refname>Модификаторы шаблонов</refname>
    <refpurpose>Описывает возможные модификаторы шаблонов Perl-совместимых регулярных выражений (PCRE)</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Описание</title>
    <para>
	Ниже перечислены все доступные на сегодняшний день модификаторы. 
	Имя, взятое в круглые скобки, указывает внутреннее PCRE имя для данного модификатора.
    </para>
    <para>
     <blockquote>
      <variablelist>
       <varlistentry>
    <term><emphasis>i</emphasis> (PCRE_CASELESS)</term>
    <listitem>
     <simpara>
	 Если этот модификатор используется, символы в шаблоне соответствуют символам как верхнего, так и нижнего регистра.
     </simpara>
    </listitem>
       </varlistentry>
       <varlistentry>
    <term><emphasis>m</emphasis> (PCRE_MULTILINE)</term>
    <listitem>
     <simpara>
	По умолчанию PCRE обрабатывает данные как однострочную символьную строку 
	(даже если она содержит разделители строк).
	Метасимвол начала строки '^' соответствует только началу обрабатываемого текста,
	в то время как метасимвол "конец строки" '$' соответствует 
	концу текста, либо позиции перед завершающим текст переводом строки
	(в случае, если модификатор <emphasis>D</emphasis> не установлен).
	В Perl ситуация полностью аналогична.      
     </simpara>
     <simpara>
      Если этот модификатор используется,  метасимволы "начало строки" и 
      "конец строки" также соответствуют позициям перед произвольным символом
      перевода и строки и, соответственно, после.
      Это соответствует Perl-модификатору \m.
      В случае, если обрабатываемый текст не содержит символов перевода строки, 
      либо шаблон не содержит метасимволов '^' или '$', 
      данный модификатор не имеет никакого эффекта.
     </simpara>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><emphasis>s</emphasis> (PCRE_DOTALL)</term>
    <listitem>
     <simpara>
	  Если данный модификатор используется, метасимвол "точка" в шаблоне соответствует
	  всем символам, включая перевод строк. Без него - всем, за исключением переводов строк.
	  Этот модификатор эквивалентен записи /s в Perl.
	  Класс символов, построенный на отрицании, например [^a], всегда соответствует
	  переводу строки, независимо от наличия этого модификатора.
     </simpara>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><emphasis>x</emphasis> (PCRE_EXTENDED)</term>
    <listitem>
     <simpara>
     Если данный модификатор используется, неэкранированные 
     пробелы, символы табуляции и пустой строки
     в шаблоне игнорируются, если они не являются частью символьного класса.
     Также игнорируются все символы между неэкранированным символом '#' 
     (если он не является частью символьного класса) и символом перевода строки 
     (включая сами символы '\n' и '#').
     Это эквивалентно Perl-модификатору \x, и позволяет размещать комментарий
     в сложных шаблонах.
     Замечание: это касается только символьных данных. Пробельные символы
     не фигурируют в служебных символьных последовательностях, к примеру, в
     последовательности '(?(', открывающей условную подмаску.
     </simpara>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><emphasis>e</emphasis></term>
    <listitem>
     <simpara>
      Если данный модификатор используется, <function>preg_replace</function>
      после выполнения стандартных подстановок в заменяемой строке
      интерпретирует ее как PHP-код и использует результат для замены искомой строки.
     </simpara>
     <para>
      Только <function>preg_replace</function> реагирует на данный модификатор;
	  остальными функциями он игнорируется.
      <note>
       <simpara>
	    Этот модификатор недоступен в PHP 3.
       </simpara>
      </note>
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><emphasis>A</emphasis> (PCRE_ANCHORED)</term>
    <listitem>
     <simpara>
	 Если данный модификатор используется, соответствие шаблону
	 будет достигаться только в том случае, если он
	 соответствует началу строки, в которой производится поиск.
	 Того же эффекта можно достичь подходящей конструкцией с вложенным
	 шаблоном, которая реализуема в Perl.
	     </simpara>
    </listitem>
       </varlistentry>
       <varlistentry>
    <term><emphasis>D</emphasis> (PCRE_DOLLAR_ENDONLY)</term>
    <listitem>
     <simpara>
	  Если данный модификатор используется, метасимвол $ в шаблоне
	  соответствует только окончанию обрабатываемых данных. Без этого модификатора
	  метасимвол $ соответствует также позиции перед последним символом, в случае,
	  если им является перевод строки (но не распространяется на любые другие переводы строк).
	  Данный модификатор игнорируется, если используется модификатор m.
	  В языке Perl аналогичный модификатор отсутствует.
     </simpara>
    </listitem>
       </varlistentry>
       <varlistentry>
    <term><emphasis>S</emphasis></term>
    <listitem>
     <simpara>
      В случае, если планируется многократно использовать шаблон,
      имеет смысл потратить немного больше времени на его анализ,
      чтобы уменьшить время его выполнения.
      В случае, если данный модификатор используется, проводится дополнительный анализ шаблона.
      В настоящем это имеет смысл только для фиксированных шаблонов,
      не содержащих переменных ссылок.
     </simpara>
    </listitem>
       </varlistentry>
       <varlistentry>
    <term><emphasis>U</emphasis> (PCRE_UNGREEDY)</term>
    <listitem>
     <simpara>
	 Этот модификатор инвертирует жадность квантификаторов, таким
	 образом они по умолчанию не жадные. Но становятся жадными,
	 если за ними следует символ '?'. Такая возможность не совместима с Perl.
	 Модификатор U также может использоваться внутри шаблона,
	 при помощи '?U' записи.
     </simpara>
    </listitem>
       </varlistentry>
       <varlistentry>
    <term><emphasis>X</emphasis> (PCRE_EXTRA)</term>
    <listitem>
     <simpara>
	 Этот модификатор включает дополнительную функциональность PCRE,
	 которая не совместима с Perl: любой обратный слеш в шаблоне, за которым следует 
	 символ, не имеющий специального значения, приводят к ошибке.
	 Это обусловлено тем, что подобные комбинации зарезервированы для
	 дальнейшего развития. По умолчанию же, как и в Perl, слеш со следующим за ним 
	 символом без специального значения трактуется как as опечатка.
	 На сегодняшний день это все возможности, которые управляются данным модификатором
     </simpara>
    </listitem>
       </varlistentry>
       <varlistentry>
    <term><emphasis>u</emphasis> (PCRE_UTF8)</term>
    <listitem>
     <simpara>
	 Этот модификатор включает дополнительную функциональность PCRE,
	 которая не совместима с Perl: шаблоны обрабатываются как UTF8 строки.
	 Модификатор u доступен в PHP 4.1.0 и выше для Unix-платформ,
	 и в PHP 4.2.3 и выше для Windows платформ.
     </simpara>
    </listitem>
       </varlistentry>
      </variablelist>
     </blockquote>
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
