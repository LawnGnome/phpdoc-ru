<?xml version="1.0" encoding="utf-8"?>
<!-- EN-Revision: 1.6 Maintainer: blindman Status: ready -->
<!-- $Revision: 1.3 $ -->
<refentry xml:id="function.sqlite-escape-string" xmlns="http://docbook.org/ns/docbook">
 <refnamediv>
  <refname>sqlite_escape_string</refname>
  <refpurpose>Экранирует спецсимволы в строке для использования в запросе</refpurpose>
 </refnamediv>
 <refsect1>
  &reftitle.description;
  <methodsynopsis>
   <type>string</type><methodname>sqlite_escape_string</methodname>
   <methodparam><type>string</type><parameter>item</parameter></methodparam>
  </methodsynopsis>
  <para>
   <function>sqlite_escape_string</function> экранирует спецсимволы в строке
   <parameter>item</parameter> для использования в запросе SQLite. Одиночные
   кавычки (<literal>'</literal>) будут удвоены, а также будет произведена
   проверка на наличие бинарных данных в строке.
  </para>
  <para>
   Если <parameter>item</parameter> содержит символ  <literal>NUL</literal>
   или начинается с символа с кодом <literal>0x01</literal>, будет примененена
   специальная схема кодирования, позволяющая безопасно хранить бинарные
   данные.
  </para>
  <para>
   Хотя кодирование и позволяет вставлять бинарные данные, операторы сравнения
   и <literal>LIKE</literal> для полей, содержащих такие данные, будут
   работать некорректно. На практике, однако, это не создает проблем, так как
   так база данных должна быть спроектирована таким образом, чтобы не было
   необходимости использовать операции сравнения с бинарными данными.
   Фактически, для хранения таких данных лучше подходят другие способы,
   например файлы.
  </para>
  <warning>
   <simpara>
    Функцию  <function>addslashes</function> <emphasis>НЕЛЬЗЯ</emphasis>
    использовать для экранирования строк для запросов к SQLite queries. Это
    приведет к неожиданным результатам при выборке данных.
   </simpara>
  </warning>
  <note>
   <simpara>
    Не применяйте эту функцию к значениям, возвращаемым UDF, созданных с
    использованием <function>sqlite_create_function</function> или
    <function>sqlite_create_aggregate</function> - используйте
    <function>sqlite_udf_encode_binary</function>.
   </simpara>
  </note>
 </refsect1>
 <refsect1>
  &reftitle.seealso;
  <para>
   <function>sqlite_udf_encode_binary</function>.
  </para>
 </refsect1>
</refentry>
<!-- Keep this comment at the end of the file
 Local variables:
 mode: sgml
 sgml-omittag:t
 sgml-shorttag:t
 sgml-minimize-attributes:nil
 sgml-always-quote-attributes:t
 sgml-indent-step:1
 sgml-indent-data:t
 sgml-parent-document:nil
 sgml-default-dtd-file:"../../manual.ced"
 sgml-exposed-tags:nil
 sgml-local-catalogs:nil
 sgml-local-ecat-files:nil
 End:
 vim600: syn=xml fen fdm=syntax fdl=2 si
 vim: et tw=78 syn=sgml
 vi: ts=1 sw=1
 -->
