<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->

<chapter xml:id="oci8.setup" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 &reftitle.setup;

 <!-- {{{ Requirements -->
 <section xml:id="oci8.requirements">
  &reftitle.required;
  <para>
   Вам понадобятся клиентские библиотеки Oracle для того, чтобы использовать
   этот модуль. Пользователям Windows необходимы библиотеки минимум
   версии 10 для того, чтобы использовать <filename>php_oci8.dll</filename>.
  </para>
  <para>
   Мы рекомендуем вам использовать Oracle Instant Client, доступный по
   адресу <link xlink:href="&url.oracle.instant.client;">&url.oracle.instant.client;</link>.
   Для использования модуля OCI8 достаточно установить "basic" версию пакета 
   Oracle Instant Client. Instant Client не требует установки переменных 
   ORACLE_SID или ORACLE_HOME. Однако, вам возможно понадобится установить 
   переменные окружения LD_LIBRARY_PATH и NLS_LANG.
  </para>
  <para>
   Перед использованием этого модуля, проверьте, что вы установили все
   необходимые переменные окружения. Эти переменные, перечисленные ниже,
   должны быть доступны пользователю Oracle и пользователю, с правами
   которого работает веб-сервер. Переменные окружения, необходимые для
   корректной работы с Oracle:
   <itemizedlist>
    <listitem>
     <simpara>
      ORACLE_HOME
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      ORACLE_SID
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      LD_PRELOAD
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      LD_LIBRARY_PATH
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      NLS_LANG
     </simpara>
    </listitem>
    <listitem>
     <simpara>
      ORA_NLS33
     </simpara>
    </listitem>
   </itemizedlist>
  </para>
  <para>
   После установки среды окружения для веб-сервера, добавьте
   пользователя, с правами которого работает веб-сервер, в группу oracle.
  </para>
  <note>
   <title>Если ваш веб-сервер не стартует или возвращает ошибку при старте</title>
   <para>
    Проверьте, что Apache был слинкован с библиотекой
    <literal>pthread</literal>: 
   </para>
   <para>
   <informalexample>
    <screen>
<![CDATA[
# ldd /www/apache/bin/httpd 
  libpthread.so.0 => /lib/libpthread.so.0 (0x4001c000)
  libm.so.6 => /lib/libm.so.6 (0x4002f000)
  libcrypt.so.1 => /lib/libcrypt.so.1 (0x4004c000)
  libdl.so.2 => /lib/libdl.so.2 (0x4007a000)
  libc.so.6 => /lib/libc.so.6 (0x4007e000)
  /lib/ld-linux.so.2 => /lib/ld-linux.so.2 (0x40000000)
]]>
    </screen>
   </informalexample>
  </para>
  <para>
   Если libpthread не присутствует в списке, то вам придется переустановить Apache:
  </para>
  <para>
   <informalexample>
    <screen>
<![CDATA[
# cd /usr/src/apache_1.3.xx
# make clean
# LIBS=-lpthread ./config.status
# make
# make install
]]>
    </screen>
   </informalexample>
  </para>
  <para>
   Обратите внимание на то, что на некоторых системах, например, UnixWare,
   вместо <literal>libthread</literal> присутствует
   <literal>libpthread</literal>. PHP и Apache также должны быть собраны с 
    EXTRA_LIBS=-lthread.
  </para>
 </note>
 </section>
 <!-- }}} -->

 <!-- {{{ Installation -->
 <section xml:id="oci8.installation">
  &reftitle.install;
  &no.install;
 </section>
 <!-- }}} -->

 <!-- {{{ Configuration -->
 &reference.oci8.ini;
 <!-- }}} -->

 <!-- {{{ Resources -->
 <section xml:id="oci8.resources">
  &reftitle.resources;
  &no.resource;
 </section>
 <!-- }}} -->

</chapter>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->

