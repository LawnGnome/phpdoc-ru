<?xml version="1.0" encoding="utf-8"?>
<!-- EN-Revision: n/a Maintainer: blindman Status: ready -->
<!-- $Revision$ -->
<!-- splitted from ./en/functions/datetime.xml, last change in rev 1.2 -->
  <refentry xml:id="function.strftime" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
   <refnamediv>
    <refname>strftime</refname>
    <refpurpose>Форматирует текущую дату/время с учетом текущей локали</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Описание</title>
     <methodsynopsis>
      <type>string</type><methodname>strftime</methodname>
      <methodparam><type>string</type><parameter>format</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>
        timestamp
       </parameter></methodparam>
     </methodsynopsis>
    <para>
     Возвращает строку, отформатированную в соответствии с аргументом 
     <parameter>format</parameter>, используя аргумент 
     <parameter>timestamp</parameter> или текущее системное время, если 
     этот аргумент не передан. Названия месяцев, дней недели и другие 
     строки, зависящие от языка, соответствуют текущей локали, 
     установленной функцией <function>setlocale</function>.
    </para>
    <para>
     <function>strftime</function> использует функции операционной 
     системы, поэтому отдельные форматирующие символы могут не работать 
     в вашей операционной системе. Кроме того, не все платформы 
     поддерживают отрицательные метки времени. Это значит, что %e, %T, %R и %D 
     (а возможно и другие) и даты до <literal>Jan 1, 1970</literal> не 
     поддерживаются Windows, некоторыми версиями Linux и некоторыми 
     другими операционными системами. Список форматирующих символов, 
     поддерживаемых Windows, можно найти на 
     <link xlink:href="&url.strftime.win32;">сайте <acronym>MSDN</acronym></link>.
    </para>
    <para>
     В форматирующей строке распознаются следующие символы:
     <itemizedlist>
      <listitem>
       <simpara>
        %a - сокращенное название дня недели в текущей локали
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %A - полное название дня недели в текущей локали
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %b - сокращенное название месяца в текущей локали
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %B - полное название месяца в текущей локали
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %c - предпочтительный формат даты и времени в текущей локали
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %C - столетие (год, деленный на 100 и округленный до целого, от 00 до 99)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %d - день месяца в виде десятичного числа (от 01 до 31)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %D - аналогично %m/%d/%y
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %e - день месяца в виде десятичного числа, если это одна цифра, то
        перед ней добавляется пробел (от ' 1' до '31')
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %g - то же, что и %G, но без столетия
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %G - год, 4-значное число, соответствующее номеру недели по ISO (см. %V).
        Аналогично %Y, за исключением того, что если номер недели по ISO 
        соответствует предыдущему или следующему году, используется 
        соответствующий год.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %h - то же, что и %b
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %H - номер часа от 00 до 23
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %I - номер часа от 01 до 12
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %j - номер дня в году (от 001 до 366)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %m - номер месяца (от 01 до 12)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %M - минуты
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %n - символ "\n"
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %p - `am' или `pm', или соответствующие строки в текущей локали
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %r - время в формате a.m. или p.m.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %R - время в 24-часовом формате
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %S - секунды
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %t - символ табуляции ("\t")
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %T - текущее время, аналогично %H:%M:%S
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %u - номер дня недели от 1 до 7, где 1 соответствует понедельнику
       </simpara>
       <warning>
        <simpara>
         На Sun Solaris 1 соответствует воскресенью, хотя в ISO 9889:1999 
         (текущий стандарт языка C) явно указано, что это должен быть 
         понедельник.
        </simpara>
       </warning>
      </listitem>
      <listitem>
       <simpara>
        %U - порядковый номер недели в текущем году. Первым днем первой 
        недели в году считается первое воскресенье года.
       </simpara>
      </listitem>
      <listitem>
       <simpara> 
        %V - порядковый номер недели в году по стандарту ISO 8601:1988 
        от 01 до 53, где 1 соответствует первой неделе в году, в которой 
        как минимум 4 дня принадлежат этому году. Первым днем недели считается понедельник.
        (Используйте %G or %g для определения соответствующего года)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %W - порядковый номер недели в текущем году. Первым днем первой 
        недели в году считается первый понедельник года.
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %w - номер дня недели, 0 соответствует воскресенью
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %x - предпочтительный формат даты без времени в текущей локали
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %X - предпочтительный формат времени без даты в текущей локали
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %y - год без столетия (от 00 до 99)
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %Y - год, включая столетие
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %Z - временная зона в виде смещения, аббревиатуры или полного 
        наименования
       </simpara>
      </listitem>
      <listitem>
       <simpara>
        %% - символ `%'
       </simpara>
      </listitem>
     </itemizedlist>
     <example>
      <title>Пример использования функции <function>strftime</function> с разными локалями</title>
      <programlisting role="php">
<![CDATA[
<?php
setlocale(LC_TIME, "C");
echo strftime("%A");
setlocale(LC_TIME, "fi_FI");
echo strftime(" по-фински - %A,");
setlocale(LC_TIME, "fr_FR");
echo strftime(" по-французски - %A и");
setlocale(LC_TIME, "de_DE");
echo strftime(" по-немецки - %A.\n");
?>
]]>
      </programlisting>
     </example>
     Этот пример будет работать, если на вашей системе установлены 
     соответствующие локали.
     <note>
      <simpara>
       %G and %V, которые основаны на номере недели по ISO 8601:1988,
       Могут давать результат, отличный от ожидаемого, если вы не 
       полностью понимаете систему нумерации, используемую этим 
       стандартом. Смотрите описание %V выше и следующий пример.
      </simpara>
     </note>
     <example>
      <title>Пример номеров недели по ISO 8601:1988</title>
      <programlisting role="php">
<![CDATA[
<?php
/*      Декабрь 2002 / Январь 2003
ISO    Пн  Вт  Ср  Чт  Пт  Сб  Вс
----- ----------------------------
51     16  17  18  19  20  21  22 
52     23  24  25  26  27  28  29
1      30  31   1   2   3   4   5
2       6   7   8   9  10  11  12
3      13  14  15  16  17  18  19   */

// Вывод: 12/28/2002 - %V,%G,%Y = 52,2002,2002
echo "12/28/2002 - %V,%G,%Y = " . strftime("%V,%G,%Y", strtotime("12/28/2002")) . "\n";

// Вывод: 12/30/2002 - %V,%G,%Y = 1,2003,2002
echo "12/30/2002 - %V,%G,%Y = " . strftime("%V,%G,%Y", strtotime("12/30/2002")) . "\n";

// Вывод: 1/3/2003 - %V,%G,%Y = 1,2003,2003
echo "1/3/2003 - %V,%G,%Y = " . strftime("%V,%G,%Y",strtotime("1/3/2003")) . "\n";

// Вывод: 1/10/2003 - %V,%G,%Y = 2,2003,2003
echo "1/10/2003 - %V,%G,%Y = " . strftime("%V,%G,%Y",strtotime("1/10/2003")) . "\n";



/*      Декабрь 2004 / Январь 2005
ISO    Пн  Вт  Ср  Чт  Пт  Сб  Вс
----- ----------------------------
51     13  14  15  16  17  18  19
52     20  21  22  23  24  25  26
53     27  28  29  30  31   1   2
1       3   4   5   6   7   8   9
2      10  11  12  13  14  15  16   */

// Вывод: 12/23/2004 - %V,%G,%Y = 52,2004,2004
echo "12/23/2004 - %V,%G,%Y = " . strftime("%V,%G,%Y",strtotime("12/23/2004")) . "\n";

// Вывод: 12/31/2004 - %V,%G,%Y = 53,2004,2004
echo "12/31/2004 - %V,%G,%Y = " . strftime("%V,%G,%Y",strtotime("12/31/2004")) . "\n";

// Вывод: 1/2/2005 - %V,%G,%Y = 53,2004,2005
echo "1/2/2005 - %V,%G,%Y = " . strftime("%V,%G,%Y",strtotime("1/2/2005")) . "\n";

// Вывод: 1/3/2005 - %V,%G,%Y = 1,2005,2005
echo "1/3/2005 - %V,%G,%Y = " . strftime("%V,%G,%Y",strtotime("1/3/2005")) . "\n";

?>
]]>
      </programlisting>
     </example>
    </para>
    <para>
     См. также описание функций <function>setlocale</function>,
     <function>mktime</function>, и <link xlink:href="&spec.strftime;">
     спецификацию <function>strftime</function> Open Group</link>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
