<?xml version="1.0" encoding="utf-8"?>
<!-- EN-Revision: 323190 Maintainer: mch Status: ready -->
<!-- Based on UPGRADING version 322438. Work in progess !-->
<!-- $Revision$ -->
<!-- Reviewed: no -->
<appendix xml:id="migration54" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Переход с PHP 5.3.x на PHP 5.4.x</title>
 <simpara>
  &manual.migration.seealso;
  <link linkend="migration5">5.0.x</link>,
  <link linkend="migration51">5.1.x</link>,
  <link linkend="migration52">5.2.x</link> and
  <link linkend="migration53">5.3.x</link>.
 </simpara>

 <section xml:id="migration54.changes">
  <title>Что изменилось в PHP 5.4.x</title>
  <simpara>
  <!-- Placehold for "What has changed in PHP 5.4.x". -->

  <!-- Current content for the 5.3.x changes
  
   Most improvements in PHP 5.3.x have no impact on existing code.  There are
   a <link linkend="migration53.incompatible">few incompatibilities</link>
   and <link linkend="migration53.new-features">new features</link> that should 
   be considered, and code should be tested before switching PHP
   versions in production environments.
   
   -->
  </simpara>
  <warning>
   <simpara>
    Этот список является неполным и претерпевает постоянные изменения,
 пока не будет выпущен PHP 5.4.
   </simpara>
  </warning>
  <simpara>
   Для систем, которые обновились с более старой версии PHP, соответствующую
   документацию можно получить по адресам:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="migration53">Замечания по обновлению для PHP 5.3.x</link>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration52">Замечания по обновлению для PHP 5.2.x</link>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration51">Замечания по обновлению для PHP 5.1.x</link>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="migration5">Переход с PHP 4 на PHP 5</link>.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.incompatible">
  <title>Обратно несовместимые изменения</title>
  <simpara>
   Хотя большая часть существующего кода PHP 5 должна работать без изменений,
   пожалуйста, примите к сведению следующие обратно несовместимые изменения:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     Операторы <link linkend="control-structures.break"><literal>break</literal></link>
     и <link linkend="control-structures.continue"><literal>continue</literal></link>
     теперь не принимают аргументов в виде переменной. Используйте аргумент в 
     виде статической константы.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="features.safe-mode"><literal>Безопасный режим</literal></link> более
     не поддерживается. Любое приложение, которое полагается на безопасный режим, возможно,
     требует внесения корректировок по части безопасности.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Функции <function>import_request_variables()</function>, 
     <function>session_register()</function>, <function>session_unregister()</function>, 
     <function>session_is_registered()</function> были удалены.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Функции <function>get_magic_quotes_gpc()</function> и <function>get_magic_quotes_runtime()</function>
     теперь всегда возвращают false. Функция <function>set_magic_quotes_runtime()</function> вызывает ошибку
     <constant>E_CORE_ERROR</constant>.
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Следующие ключевые слова теперь являются зарезервированными и не могут
   использоваться в качестве названия функции, класса и прочих имен:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="language.oop5.traits">trait</link>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     callable
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     insteadof
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-features">
  <title>Новые возможности</title>
  <simpara>
   PHP 5.4.0 предлагает широкий спектр новых возможностей:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     Добавлена поддержка <link linkend="language.oop5.traits">трейтов</link>.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.windows">
  <title>Изменения в поддержке под Windows</title>
  <simpara>
   Изменения к Windows-релизам:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Changes made to Windows support" -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Была добавлена поддержка Windows для следующих функций:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Changes made to Windows support" -->
     
     <!-- Example for a previous versions entry for this list

     <function>checkdnsrr</function>
     
     -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Другие изменения:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Other changes:" -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.sapi">
  <title>Изменения в модулях SAPI</title>
  <itemizedlist>
   <listitem>
    <simpara>
     Доступен новый модуль SAPI, называемый cli-server.
    </simpara>
   </listitem>
  </itemizedlist>
  <itemizedlist>
   <listitem>
    <simpara>
     Добавлена CLI-опция --rz, которая отображает информацию о имени расширения Zend.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Добавлена ссылка #inisetting=value для изменения INI-опций в процессе работы скрипта при интерактивной работе в консоли.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Добавлены функции, совместимые с Apache: <function>apache_child_terminate()</function>,
     <function>getallheaders()</function>, <function>apache_request_headers()</function>
     и <function>apache_response_headers()</function> для FastCGI SAPI.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     PHP-FPM : Добавлена опция process.max для контроля количества ветвлений FPM-процессов.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.deprecated">
  <title>Устаревшие функции и возможности в PHP 5.4.x</title>
  <simpara>
   <!-- Placeholder for "Deprecated features in PHP 5.4.x" -->
  </simpara>
  <simpara>
   Следующий список - это перечень устаревших INI-директив. Использование любой из
   этих директив будет приводить к генерации ошибки <constant>E_DEPRECATED</constant>
   при запуске.
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for deprecated INI entries. -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Устаревшие функции:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>mysql_list_dbs()</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Устаревшие возможности:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     INI-настройки <literal>magic_quotes_gpc</literal> <literal>magic_quotes_runtime</literal> и
     <literal>magic_quotes_sybase</literal>.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

<!-- Are there any undeprecated features/settings/etc. in PHP 5.4?

 <section xml:id="migration54.undeprecated">
  <title>Undeprecated features in PHP 5.3.x</title>
  <simpara>
   The <function>is_a</function> function has been undeprecated by popular
   request; it will no longer issue an <constant>E_STRICT</constant> error.
  </simpara>
 </section>
-->

 <section xml:id="migration54.parameters">
  <title>Новые параметры</title>
  <simpara>
   К некоторым функциям были добавлены новые необязательные параметры в PHP 5.4:
  </simpara>
  <simpara>Ядро PHP:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     Функция <function>scandir()</function> теперь принимает константу <constant>SCANDIR_SORT_NONE</constant> в качестве возможного значения параметра sorting_order.
    </simpara>
   </listitem>
  </itemizedlist>

  <!-- Placeholder for "New Parameters" by books.

  <simpara><link linkend="book.json">json</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>json_encode</function>
     - Added <parameter>options</parameter>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>json_decode</function>
     - Added <parameter>depth</parameter>.
    </simpara>
   </listitem>
  </itemizedlist>
  
  -->

  <simpara>
   Новые параметры методов в PHP 5.4.0:
  </simpara>
  <simpara>Ядро PHP:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New Parameters" for PHP Core methods. -->
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>OpenSSL:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     В функции <function>openssl_encrypt()</function> и <function>openssl_decrypt()</function>
     добавлена опция "no padding" (не дополнять размер шифруемого блока).
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.functions">
  <title>Новые функции</title>
  <simpara>
   В PHP 5.4 введены несколько новых функций:
  </simpara>
  <simpara>Ядро PHP:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>hex2bin()</function> - Преобразует шестнадцатеричное представление данных в двоичное
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>http_reponse_code()</function> - Получить или установить код ответа HTTP
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <function>header_register_callback()</function> - Вызвать функцию перед отправкой заголовков
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.spl">SPL:</link></simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>class_uses()</function> - Возвращает трейты, используемые данным классом.
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara>
   Следующие функции теперь полностью реализованы в PHP на всех ОС, на которых
   может работать PHP:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for natively implemented functions. -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-stream-wrappers">
  <title>Новые обертки потоков</title>
  <simpara>
   Следующие обертки потоков были введены в версии 5.4.0:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New stream wrappers". -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-stream-filters">
  <title>Новые фильтры потоков</title>
  <simpara>
   Следующие фильтры потоков были введены в версии 5.4.0:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New stream filters". -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.class-constants">
  <title>Новые константы классов</title>
  <simpara>
   Некоторые новые константы классов были добавлены в версии 5.4.0:
  </simpara>
  <simpara><link linkend="book.pdo">PDO</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>PDO::MYSQL_ATTR_SSL_CA</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PDO::MYSQL_ATTR_SSL_CAPATH</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PDO::MYSQL_ATTR_SSL_CERT</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PDO::MYSQL_ATTR_SSL_CIPHER</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PDO::MYSQL_ATTR_SSL_KEY</constant>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.methods">
  <title>Новые методы</title>
  <simpara>
   Несколько новых методов были введены в версии 5.4.0:
  </simpara>
  <simpara><classname>XSL</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>XsltProcessor::setSecurityPrefs()</function> и 
     <function>XsltProcessor::getSecurityPrefs()</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><classname>SPL</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>RegexIterator::getRegex()</function>
     <function>SplObjectStorage::getHash()</function>
     <function>DirectoryIterator::getExtension()</function>
     <function>SplDoublyLinkedList::serialize()</function>
     <function>SplDoublyLinkedList::unserialize()</function>
     <function>SplFileInfo::getExtension()</function>
     <function>SplFileObject::fputcsv()</function>
     <function>SplQueue::serialize()</function>
     <function>SplQueue::unserialize()</function>
     <function>SplStack::serialize()</function>
     <function>SplStack::unserialize()</function>
     <function>SplTempFileObject::fputcsv()</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><classname>Reflection</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>ReflectionExtension::isPersistent()</function>
     <function>ReflectionExtension::isTemporary()</function>
     <function>ReflectionClass::isCloneable()</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><classname>Closure</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>Closure::bind()</function>
     <function>Closure::bindTo()</function>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><classname>PDO_dblib</classname>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <function>PDO::newRowset()</function>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.new-extensions">
  <title>Новые расширения</title>
  <simpara>
   Следующие расширения были добавлены начиная с PHP 5.4.0:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "New Extensions". -->
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.removed-extensions">
  <title>Удаленные расширения</title>
  <simpara>
   Следующие расширения перемещены в репозиторий PECL и более не будут поставляться
   с дистрибутивом PHP. Версии этих расширений в виде пакетов PECL будут создаваться
   в соответствии с потребностями пользователей.
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="book.sqlite">sqlite</link>.
     Обратите внимание, что расширения ext/sqlite3 и ext/pdo_sqlite остаются нетронутыми.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.extensions-other">
  <title>Другие изменения в расширениях</title>
  <simpara>
   Следующие расширения теперь не могут быть отключены при конфигурировании
   сборки:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <!-- Placeholder for "Other changes to extensions" - Cannot be disabled during build. -->
    </simpara>
   </listitem>
  </itemizedlist>

  <simpara>
   Изменения в поведении расширений, и новые возможности:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="book.mysqli">mysqli</link>
     - <function>mysqli_result()</function> теперь реализует класс <link linkend="class.traversable">Traversable</link>
    </simpara>
   </listitem>
  </itemizedlist>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="ref.pdo-mysql">pdo_mysql</link>
     - Удалена поддержка возможности сборки с клиентскими библиотеками MySQL старше версии 4.1.
    </simpara>
   </listitem>
  </itemizedlist>
  <itemizedlist>
   <listitem>
    <simpara>
     <link linkend="book.mysqlnd">mysqlnd</link>
     - Добавлена поддержка именованных каналов (named pipes).
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.classes">
  <title>Новые классы</title>
  <simpara>
   Следующие классы были введены в PHP 5.4.0:
  </simpara>

  <simpara><link linkend="book.spl">SPL</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>CallbackFilterIterator</classname>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <classname>RecursiveCallbackFilterIterator</classname>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.reflection">Reflection</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>ReflectionZendExtension</classname>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.json">Json</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     Интерфейс <classname>JsonSerializable</classname>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.session">Session</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     Интерфейс <classname>SessionHandler</classname>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.snmp">Snmp</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>SNMP</classname>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara><link linkend="book.json">Intl</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <classname>Transliterator</classname>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <classname>Spoofchecker</classname>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.global-constants">
  <title>Новые глобальные константы</title>

  <simpara>Ядро PHP:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>CURLOPT_MAX_RECV_SPEED_LARGE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>CURLOPT_MAX_SEND_SPEED_LARGE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_DISALLOWED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_HTML401</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_HTML5</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_SUBSTITUTE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_XML1</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ENT_XHTML</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPPROTO_IP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPPROTO_IPV6</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPV6_MULTICAST_HOPS</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPV6_MULTICAST_IF</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IPV6_MULTICAST_LOOP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IP_MULTICAST_IF</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IP_MULTICAST_LOOP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IP_MULTICAST_TTL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_BIGINT_AS_STRING</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_OBJECT_AS_ARRAY</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_PRETTY_PRINT</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_UNESCAPED_SLASHES</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_UNESCAPED_UNICODE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>LIBXML_HTML_NODEFDTD</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>LIBXML_HTML_NOIMPLIED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>LIBXML_PEDANTIC</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_JOIN_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_LEAVE_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_BLOCK_SOURCE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_UNBLOCK_SOURCE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_JOIN_SOURCE_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>MCAST_LEAVE_SOURCE_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_CIPHER_AES_128_CBC</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_CIPHER_AES_192_CBC</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_CIPHER_AES_256_CBC</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_RAW_DATA</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>OPENSSL_ZERO_PADDING</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_CLEAN</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_CLEANABLE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_DISABLED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_FINAL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_FLUSH</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_FLUSHABLE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_REMOVABLE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_STARTED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_STDFLAGS</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_OUTPUT_HANDLER_WRITE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_QUERY_RFC1738</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_QUERY_RFC3986</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_SESSION_ACTIVE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_SESSION_DISABLED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>PHP_SESSION_NONE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>SCANDIR_SORT_ASCENDING</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>SCANDIR_SORT_DESCENDING</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>SCANDIR_SORT_NONE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>SORT_FLAG_CASE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>SORT_NATURAL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_ACCESS</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_GROUP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_GROUP_NAME</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_OWNER</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_OWNER_NAME</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>STREAM_META_TOUCH</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>T_CALLABLE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>T_INSTEADOF</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>T_TRAIT</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>T_TRAIT_C</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ZLIB_ENCODING_DEFLATE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ZLIB_ENCODING_GZIP</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>ZLIB_ENCODING_RAW</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>U_IDNA_DOMAIN_NAME_TOO_LONG_ERROR</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_CHECK_BIDI</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_CHECK_CONTEXTJ</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_NONTRANSITIONAL_TO_ASCII</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_NONTRANSITIONAL_TO_UNICODE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>INTL_IDNA_VARIANT_2003</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>INTL_IDNA_VARIANT_UTS46</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_EMPTY_LABEL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_LABEL_TOO_LONG</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_DOMAIN_NAME_TOO_LONG</constant>
    </simpara>
   </listitem>
   <listitem>
   <simpara>
     <constant>IDNA_ERROR_LEADING_HYPHEN</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_TRAILING_HYPHEN</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_HYPHEN_3_4</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_LEADING_COMBINING_MARK</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_DISALLOWED</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_PUNYCODE</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_LABEL_HAS_DOT</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_INVALID_ACE_LABEL</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_BIDI</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>IDNA_ERROR_CONTEXTJ</constant>
    </simpara>
   </listitem>
  </itemizedlist>
  
  <simpara><link linkend="book.json">Json</link>:</simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <constant>JSON_PRETTY_PRINT</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_UNESCAPED_SLASHES</constant>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>JSON_BIGINT_AS_STRING</constant>
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.ini">
  <title>Изменения в обработке INI-файлов</title>
  <simpara>
   Следующие INI-директивы были удалены:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <literal>register_globals</literal> и <literal>register_long_arrays</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>allow_call_time_pass_reference</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>define_syslog_variables</literal> и все относящиеся к ним функции
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>highlight.bg</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>session.bug_compat_42</literal> и <literal>session.bug_compat_warn</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>y2k_compliance</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>safe_mode</literal> и все относящиеся к этой директиве параметры
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>zend.ze1_compatibility_mode</literal>
    </simpara>
   </listitem>
  </itemizedlist>
  <simpara>
   Следующие INI-директивы были добавлены:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <literal>cli.pager</literal> и <literal>cli.prompt</literal> для CLI SAPI, используя функцию readline
     в интерактивном режиме.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>max_input_vars</literal> - указывает какое количество входных переменных GET/POST/COOKIE может
    быть принято.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>zend.multibyte</literal> - для управления новой возможностью автоопределения закодированных Unicode скриптов и файлов.
    </simpara>
   </listitem>
   </itemizedlist>
  <simpara>
   Следующие INI-директивы были изменены:
  </simpara>
  <itemizedlist>
   <listitem>
    <simpara>
     <literal>default_charset</literal> теперь принимает значение по умолчанию UTF-8 вместо ISO-8859-1.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>session.entropy_file</literal> теперь принимает значение по умолчанию /dev/random или /dev/urandom в зависимости от
     того, что было определено на этапе компиляции.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <literal>session.entropy_length</literal> теперь принимает значение по умолчанию 32.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>

 <section xml:id="migration54.other">
  <title>Другие изменения</title>
  <itemizedlist>
   <listitem>
    <simpara>
     Добавлена поддержка для хранения прогресса загрузки файла в данных сессии.
    </simpara>
    <simpara>
     session.entropy_file теперь принимает значение по умолчанию /dev/urandom или /dev/arandom в зависимости от
     того, что было определено на этапе компиляции.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <constant>E_ALL</constant> теперь включает <constant>E_STRICT</constant>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     У <link linkend="book.snmp">SNMP</link> теперь есть объектно-ориентированный API.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="book.openssl">OpenSSL</link> теперь поддерживает AES.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     <link linkend="features.commandline">CLI SAPI</link> теперь больше не прерывает работу
     при фатальных ошибках, когда используется интерактивный режим с поддержкой readline.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Улучшены сообщения об ошибках при разборе синтаксическим анализатором и предупреждающие сообщения о несовместимых аргументах
     в вызовах функций.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Переменная <link linkend="language.variables.superglobals">$_SERVER['REQUEST_TIME_FLOAT']</link> 
     была добавлена и содержит время с точностью до микросекунд.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Оператор &lt;?= теперь всегда доступен несмотря на значение параметра <literal>short_open_tag</literal>
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Добавлена возможность доступа к членам класса при создании экземпляра (например, (new foo)-&gt;bar()).
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Изменено поведение при преобразовании массива в строку. Теперь будет выводиться ошибка <constant>E_NOTICE</constant>.
    </simpara>
   </listitem>
   <listitem>
    <simpara>
     Классы создания анонимных функций (Closures) теперь поддерживают границы видимости и <literal>$this</literal>.
    </simpara>
   </listitem>
  </itemizedlist>
 </section>
</appendix>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
